Improved CI

- smoke test is now being run in parallel on multiple Python versions
- improved caching of pip between jobs and branches
